(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{OSnN:function(s,e,t){"use strict";t.r(e);var a={inject:["form"],methods:{price:function(s){return s.prices[this.form.fields.currency].default||0},total:function(s){var e=(this.price(s)+Number(s.item_tax||0))*Number(s.item_quantity||1);return Number(e).toFixed(2)},remove:function(s){this.form.fields.products.splice(s,1)}}},i=t("KHd+"),l={components:{Products:Object(i.a)(a,(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"table-responsive"},[t("table",{directives:[{name:"show",rawName:"v-show",value:s.form.fields.products.length,expression:"form.fields.products.length"}],staticClass:"table table-hover has-filled-header mb-0 mt-3"},[t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[s._v(s._s(s.__("Name")))]),s._v(" "),t("th",{attrs:{scope:"col"}},[s._v("\n                    "+s._s(s.__("Price"))+"\n                    "),t("span",{staticClass:"badge badge-light text-uppercase"},[s._v(s._s(s.form.fields.currency))])]),s._v(" "),t("th",{attrs:{scope:"col"}},[s._v("\n                    "+s._s(s.__("Tax"))+"\n                    "),t("span",{staticClass:"badge badge-light text-uppercase"},[s._v(s._s(s.form.fields.currency))])]),s._v(" "),t("th",{attrs:{scope:"col"}},[s._v(s._s(s.__("Qty")))]),s._v(" "),t("th",{attrs:{scope:"col"}},[s._v(s._s(s.__("Total"))+"\n                    "),t("span",{staticClass:"badge badge-light text-uppercase"},[s._v(s._s(s.form.fields.currency))])]),s._v(" "),t("th",{attrs:{scope:"col"}})])]),s._v(" "),t("tbody",s._l(s.form.fields.products,(function(e,a){return t("tr",{key:a},[t("td",[s._v(s._s(e.name))]),s._v(" "),t("td",[s._v(s._s(s.price(e)))]),s._v(" "),t("td",[t("form-input",{staticClass:"mb-0 form-group-sm",attrs:{type:"number",placeholder:"0",step:"0.01",min:"0",size:"3"},model:{value:e.item_tax,callback:function(t){s.$set(e,"item_tax",t)},expression:"product.item_tax"}})],1),s._v(" "),t("td",[t("form-input",{staticClass:"mb-0 form-group-sm",attrs:{type:"number",placeholder:"1",step:"0.01",min:"0",size:"3"},model:{value:e.item_quantity,callback:function(t){s.$set(e,"item_quantity",t)},expression:"product.item_quantity"}})],1),s._v(" "),t("td",[s._v(s._s(s.total(e)))]),s._v(" "),t("td",[t("button",{staticClass:"icon-btn icon-btn-danger",attrs:{type:"button","aria-label":s.__("Remove")},on:{click:function(e){return e.preventDefault(),s.remove(a)}}},[t("icon",{attrs:{icon:"close"}})],1)])])})),0)])])}),[],!1,null,null,null).exports},data:function(){return{title:this.__("Create Order")}},methods:{clear:function(){this.$refs.form.fields.user={addresses:[]}},copy:function(s,e){"billing"===e?Object.assign(this.$refs.form.fields.address,JSON.parse(s)):"shipping"===e&&Object.assign(this.$refs.form.fields.shipping.address,JSON.parse(s))}}},d=Object(i.a)(l,(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("data-form",{ref:"form",attrs:{action:s.$page.action,model:s.$page.order},scopedSlots:s._u([{key:"default",fn:function(e){return[t("card",{staticClass:"mb-5",attrs:{title:s.__("User")}},[t("form-autocomplete",{directives:[{name:"show",rawName:"v-show",value:!e.fields.user.id,expression:"! form.fields.user.id"}],attrs:{name:"user",endpoint:"/bazar/users",placeholder:"Jane Doe",label:s.__("User")},scopedSlots:s._u([{key:"default",fn:function(e){return[t("span",[s._v(s._s(e.name))]),t("br"),s._v(" "),t("small",[s._v(s._s(e.email))])]}}],null,!0),model:{value:e.fields.user,callback:function(t){s.$set(e.fields,"user",t)},expression:"form.fields.user"}}),s._v(" "),e.fields.user.id?t("div",{staticClass:"form-group mt-0"},[t("label",[s._v(s._s(s.__("User")))]),s._v(" "),t("div",{staticClass:"input-group"},[t("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:e.fields.user.name}}),s._v(" "),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),s.clear(e)}}},[s._v("\n                            "+s._s(s.__("Remove"))+"\n                        ")])])])]):s._e()],1),s._v(" "),t("card",{staticClass:"mb-5",attrs:{title:s.__("Billing")},scopedSlots:s._u([{key:"header",fn:function(){return[t("div",{staticClass:"form-group"},[t("select",{staticClass:"custom-select custom-select-sm",attrs:{disabled:!e.fields.user.addresses.length},on:{input:function(e){return e.preventDefault(),t=e,s.copy(t.target.value,"billing");var t}}},[t("option",{attrs:{selected:""},domProps:{value:null}},[s._v("--- "+s._s(s.__("Address"))+" ---")]),s._v(" "),s._l(e.fields.user.addresses,(function(e,a){return t("option",{key:a,domProps:{value:JSON.stringify(e)}},[s._v("\n                            "+s._s(e.alias)+"\n                        ")])}))],2)])]},proxy:!0}],null,!0)},[s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"address.first_name",label:s.__("First Name")},model:{value:e.fields.address.first_name,callback:function(t){s.$set(e.fields.address,"first_name",t)},expression:"form.fields.address.first_name"}})],1),s._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"address.last_name",label:s.__("Last Name")},model:{value:e.fields.address.last_name,callback:function(t){s.$set(e.fields.address,"last_name",t)},expression:"form.fields.address.last_name"}})],1)]),s._v(" "),t("form-input",{attrs:{name:"address.company",label:s.__("Company")},model:{value:e.fields.address.company,callback:function(t){s.$set(e.fields.address,"company",t)},expression:"form.fields.address.company"}}),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"address.email",type:"email",label:s.__("Email")},model:{value:e.fields.address.email,callback:function(t){s.$set(e.fields.address,"email",t)},expression:"form.fields.address.email"}})],1),s._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"address.phone",type:"tel",label:s.__("Phone")},model:{value:e.fields.address.phone,callback:function(t){s.$set(e.fields.address,"phone",t)},expression:"form.fields.address.phone"}})],1)]),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("form-select",{attrs:{name:"address.country",label:s.__("Country"),options:s.$page.countries},model:{value:e.fields.address.country,callback:function(t){s.$set(e.fields.address,"country",t)},expression:"form.fields.address.country"}})],1),s._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"address.state",label:s.__("State")},model:{value:e.fields.address.state,callback:function(t){s.$set(e.fields.address,"state",t)},expression:"form.fields.address.state"}})],1)]),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"address.city",label:s.__("City")},model:{value:e.fields.address.city,callback:function(t){s.$set(e.fields.address,"city",t)},expression:"form.fields.address.city"}})],1),s._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"address.postcode",label:s.__("Postcode")},model:{value:e.fields.address.postcode,callback:function(t){s.$set(e.fields.address,"postcode",t)},expression:"form.fields.address.postcode"}})],1)]),s._v(" "),t("form-input",{attrs:{name:"address.address",label:s.__("Address")},model:{value:e.fields.address.address,callback:function(t){s.$set(e.fields.address,"address",t)},expression:"form.fields.address.address"}}),s._v(" "),t("form-input",{attrs:{name:"address.address_secondary",label:s.__("Secondary Address")},model:{value:e.fields.address.address_secondary,callback:function(t){s.$set(e.fields.address,"address_secondary",t)},expression:"form.fields.address.address_secondary"}})],1),s._v(" "),t("card",{staticClass:"mb-5",attrs:{title:s.__("Shipping")},scopedSlots:s._u([{key:"header",fn:function(){return[t("div",{staticClass:"form-group"},[t("select",{staticClass:"custom-select custom-select-sm",attrs:{disabled:!e.fields.user.addresses.length},on:{input:function(e){return e.preventDefault(),t=e,s.copy(t.target.value,"shipping");var t}}},[t("option",{attrs:{selected:""},domProps:{value:null}},[s._v("--- "+s._s(s.__("Address"))+" ---")]),s._v(" "),s._l(e.fields.user.addresses,(function(e,a){return t("option",{key:a,domProps:{value:JSON.stringify(e)}},[s._v("\n                            "+s._s(e.alias)+"\n                        ")])}))],2)])]},proxy:!0}],null,!0)},[s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("form-select",{attrs:{name:"shipping.driver",label:s.__("Driver"),options:s.$page.drivers},model:{value:e.fields.shipping.driver,callback:function(t){s.$set(e.fields.shipping,"driver",t)},expression:"form.fields.shipping.driver"}})],1),s._v(" "),t("div",{staticClass:"col"},[t("form-input",{attrs:{name:"shipping.cost",type:"number",placeholder:"0.00",min:"0",step:"0.01",label:s.__("Cost (:UNIT)",{unit:e.fields.currency})},model:{value:e.fields.shipping.cost,callback:function(t){s.$set(e.fields.shipping,"cost",t)},expression:"form.fields.shipping.cost"}})],1),s._v(" "),t("div",{staticClass:"col"},[t("form-input",{attrs:{name:"shipping.tax",type:"number",placeholder:"0.00",min:"0",step:"0.01",label:s.__("Tax (:UNIT)",{unit:e.fields.currency})},model:{value:e.fields.shipping.tax,callback:function(t){s.$set(e.fields.shipping,"tax",t)},expression:"form.fields.shipping.tax"}})],1)]),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"shipping.address.first_name",label:s.__("First Name")},model:{value:e.fields.shipping.address.first_name,callback:function(t){s.$set(e.fields.shipping.address,"first_name",t)},expression:"form.fields.shipping.address.first_name"}})],1),s._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"shipping.address.last_name",label:s.__("Last Name")},model:{value:e.fields.shipping.address.last_name,callback:function(t){s.$set(e.fields.shipping.address,"last_name",t)},expression:"form.fields.shipping.address.last_name"}})],1)]),s._v(" "),t("form-input",{attrs:{name:"shipping.address.company",label:s.__("Company")},model:{value:e.fields.shipping.address.company,callback:function(t){s.$set(e.fields.shipping.address,"company",t)},expression:"form.fields.shipping.address.company"}}),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"shipping.address.email",type:"email",label:s.__("Email")},model:{value:e.fields.shipping.address.email,callback:function(t){s.$set(e.fields.shipping.address,"email",t)},expression:"form.fields.shipping.address.email"}})],1),s._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"shipping.address.phone",type:"tel",label:s.__("Phone")},model:{value:e.fields.shipping.address.phone,callback:function(t){s.$set(e.fields.shipping.address,"phone",t)},expression:"form.fields.shipping.address.phone"}})],1)]),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("form-select",{attrs:{name:"shipping.address.country",label:s.__("Country"),options:s.$page.countries},model:{value:e.fields.shipping.address.country,callback:function(t){s.$set(e.fields.shipping.address,"country",t)},expression:"form.fields.shipping.address.country"}})],1),s._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"shipping.address.state",label:s.__("State")},model:{value:e.fields.shipping.address.state,callback:function(t){s.$set(e.fields.shipping.address,"state",t)},expression:"form.fields.shipping.address.state"}})],1)]),s._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"shipping.address.city",label:s.__("City")},model:{value:e.fields.shipping.address.city,callback:function(t){s.$set(e.fields.shipping.address,"city",t)},expression:"form.fields.shipping.address.city"}})],1),s._v(" "),t("div",{staticClass:"col-12 col-sm-6"},[t("form-input",{attrs:{name:"shipping.address.postcode",label:s.__("Postcode")},model:{value:e.fields.shipping.address.postcode,callback:function(t){s.$set(e.fields.shipping.address,"postcode",t)},expression:"form.fields.shipping.address.postcode"}})],1)]),s._v(" "),t("form-input",{attrs:{name:"shipping.address.address",label:s.__("Address")},model:{value:e.fields.shipping.address.address,callback:function(t){s.$set(e.fields.shipping.address,"address",t)},expression:"form.fields.shipping.address.address"}}),s._v(" "),t("form-input",{attrs:{name:"shipping.address.address_secondary",label:s.__("Secondary Address")},model:{value:e.fields.shipping.address.address_secondary,callback:function(t){s.$set(e.fields.shipping.address,"address_secondary",t)},expression:"form.fields.shipping.address.address_secondary"}})],1),s._v(" "),t("card",{attrs:{title:s.__("Products")}},[t("form-autocomplete",{attrs:{name:"products",endpoint:"/bazar/products",multiple:"",placeholder:s.__("Hoodie")},scopedSlots:s._u([{key:"default",fn:function(e){return[t("span",[s._v(s._s(e.name))])]}}],null,!0),model:{value:e.fields.products,callback:function(t){s.$set(e.fields,"products",t)},expression:"form.fields.products"}}),s._v(" "),t("products")],1)]}},{key:"aside",fn:function(e){return[t("card",{staticClass:"mb-5",attrs:{title:s.__("Settings")}},[t("form-input",{attrs:{name:"discount",type:"number",min:"0",step:"0.01",placeholder:"0.00",label:s.__("Discount")},model:{value:e.fields.discount,callback:function(t){s.$set(e.fields,"discount",t)},expression:"form.fields.discount"}}),s._v(" "),t("form-select",{attrs:{name:"currency",label:s.__("Currency"),options:s.$page.currencies},model:{value:e.fields.currency,callback:function(t){s.$set(e.fields,"currency",t)},expression:"form.fields.currency"}}),s._v(" "),t("form-select",{attrs:{name:"status",label:s.__("Status"),options:s.$page.statuses},model:{value:e.fields.status,callback:function(t){s.$set(e.fields,"status",t)},expression:"form.fields.status"}})],1)]}}])})}),[],!1,null,null,null);e.default=d.exports}}]);
//# sourceMappingURL=9.js.map